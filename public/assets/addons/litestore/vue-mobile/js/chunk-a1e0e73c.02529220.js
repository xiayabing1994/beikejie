(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1e0e73c"],{"23dd":function(t,e,a){"use strict";var s=a("6238"),r=a.n(s);r.a},"37d6":function(t,e,a){},"4fbe":function(t,e,a){},5399:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cube-page",class:t.type},[a("header",{staticClass:"header"},[a("h1",[t._v(t._s(t.title))]),a("i",{staticClass:"cubeic-back",on:{click:t.back}},[a("van-icon",{attrs:{size:"20px",name:"arrow-left"}})],1)]),a("div",{staticClass:"wrapper"},[a("section",{directives:[{name:"show",rawName:"v-show",value:t.desc,expression:"desc"}],staticClass:"desc"},[t._t("desc",[t._v(t._s(t.desc))])],2),a("main",{staticClass:"content"},[t._t("content",[t._v(t._s(t.content))])],2)])])},r=[],o={props:{title:{type:String,default:"",required:!0},type:{type:String,default:""},desc:{type:String,default:""},content:{type:String,default:""}},methods:{back:function(){window.history.length>1?this.$router.back():this.$router.push("/")}}},i=o,n=(a("7dda"),a("cf63"),a("2877")),d=Object(n["a"])(i,s,r,!1,null,"a378effe",null);e["a"]=d.exports},6238:function(t,e,a){},"7dda":function(t,e,a){"use strict";var s=a("bcd4"),r=a.n(s);r.a},bcd4:function(t,e,a){},c153:function(t,e,a){"use strict";var s=a("37d6"),r=a.n(s);r.a},ce11:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("transition",{attrs:{name:"page-move"}},[a("router-view",{staticClass:"cube-view"})],1)},r=[],o={methods:{}},i=o,n=(a("c153"),a("2877")),d=Object(n["a"])(i,s,r,!1,null,null,null);e["a"]=d.exports},cf63:function(t,e,a){"use strict";var s=a("4fbe"),r=a.n(s);r.a},e793:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"catcheck"},[a("cube-page",{attrs:{type:"catcheck-view",title:"订单确认"}},[a("div",{attrs:{slot:"content"},slot:"content"},[t._l(t.goods_list,function(e,s){return a("div",{key:s,staticClass:"card-root-c"},[0!=e.show_error?a("div",{staticClass:"goods_err_div"},[t._v(t._s(e.show_error_text))]):t._e(),a("van-card",{class:0==e.show_error?"":"error_goods",attrs:{price:e.goods_price,title:e.goods_name,num:e.total_num,desc:e.goods_sku.goods_attr?e.goods_sku.goods_attr:"默认规格",centered:!0,"lazy-load":!0,thumb:""==e.goods_sku.spec_image?e.image:e.goods_sku.img_show}})],1)}),a("van-cell-group",{staticClass:"vcg-c"},[a("van-cell",{attrs:{title:"商品数总计：",value:t.order_total_num}}),a("van-cell",{staticClass:"pric-cell",attrs:{title:"商品价格总计：",value:"￥"+t.order_total_price}}),a("van-cell",{staticClass:"pric-cell",attrs:{title:"快递费用：",value:0==t.express_price?"免邮费或未查询到运费":"＋ ￥"+t.express_price}})],1),a("van-submit-bar",{attrs:{price:100*t.order_pay_price,"button-text":"提交订单",loading:t.disabled},on:{submit:t.onSubmit}},[a("van-tag",{staticClass:"tagadress",attrs:{size:"large",color:"#6d189e"},on:{click:t.MangerAdress}},[t._v("管理地址")]),t.address?a("span",{attrs:{slot:"tip"},slot:"tip"},[a("van-icon",{staticClass:"ico-ad",attrs:{name:"logistics"}}),a("span",{staticClass:"ab_mt"},[t._v(t._s(t.address.Area.province)+t._s(t.address.Area.city)+t._s(t.address.Area.region)+" - "+t._s(t.address.detail))]),a("br"),a("van-icon",{staticClass:"lianxirentip ico-ad",attrs:{name:"phone"}}),a("span",{staticClass:"lianxirentip ab_mt"},[t._v(t._s(t.address.name)+" : "+t._s(t.address.phone))])],1):a("span",{attrs:{slot:"tip"},slot:"tip"},[a("van-icon",{staticClass:"ico-ad",attrs:{name:"logistics"}}),a("span",{staticClass:"ab_mt"},[t._v("未曾增加收货地址")]),a("br"),a("van-icon",{staticClass:"lianxirentip ico-ad",attrs:{name:"phone"}}),a("span",{staticClass:"lianxirentip ab_mt"},[t._v("请点击管理地址增加")])],1)],1),a("cube-view")],2)])],1)},r=[],o=a("5399"),i=a("ce11"),n=a("c290"),d={components:{CubePage:o["a"],CubeView:i["a"]},data:function(){return{goods_list:[],order_total_num:0,order_total_price:0,express_price:0,order_pay_price:0,address:null,disabled:!1,has_error:!1,error_msg:"",forpagedata:[]}},created:function(){var t=this;this.forpagedata.type=this.$route.query.type,this.forpagedata.goods_id=this.$route.query.goods_id,this.forpagedata.goods_num=this.$route.query.goods_num,this.forpagedata.goods_sku_id=this.$route.query.goods_sku_id,"cart"==this.$route.query.type&&this.getCartList(),this.$root.eventHub.$on("changeadress",function(e){"cart"==t.forpagedata.type?t.getCartList():t.getBuyNowdata()}),"buyNow"==this.$route.query.type&&this.getBuyNowdata()},beforeDestroyed:function(){this.$root.eventHub.$off("changeadress")},methods:{getCartList:function(){var t=this,e="/addons/litestore/api.cart/getlists";n["a"](e,{},function(e){t.goods_list=e.data.goods_list,t.order_total_num=e.data.order_total_num,t.order_total_price=e.data.order_total_price,t.address=e.data.address,t.express_price=e.data.express_price,t.order_pay_price=e.data.order_pay_price,t.has_error=e.data.has_error,t.error_msg=e.data.error_msg,e.data.error_msg&&t.$toast.fail(e.data.error_msg)})},getBuyNowdata:function(){var t=this,e="/addons/litestore/api.order/buyNow";n["b"](e,{goods_id:t.forpagedata.goods_id,goods_num:t.forpagedata.goods_num,goods_sku_id:t.forpagedata.goods_sku_id},function(e){t.goods_list=e.data.goods_list,t.order_total_num=e.data.order_total_num,t.order_total_price=e.data.order_total_price,t.address=e.data.address,t.express_price=e.data.express_price,t.order_pay_price=e.data.order_pay_price,t.has_error=e.data.has_error,t.error_msg=e.data.error_msg,e.data.error_msg&&t.$toast.fail(e.data.error_msg)})},MangerAdress:function(){this.$router.push({path:"cartcheck/adresslist"})},onSubmit:function(){var t=this;if(0==t.goods_list.length)return t.$toast.fail("此订单无商品"),!1;if(t.disabled)return!1;if(t.has_error)return t.$toast.fail(t.error_msg),!1;if(t.disabled=!0,"cart"==this.$route.query.type){var e="/addons/litestore/api.order/cart_pay";n["a"](e,{type:"gzh"},function(e){console.log(e),t.disabled=!1,1008==e.code?t.$dialog.confirm({title:"未通过微信登录",message:"您的账号未绑定微信号，请跳转后绑定微信号再进入未支付订单继续支付。"}).then(function(){t.$router.push({path:"../my"})}).catch(function(){t.$router.push({path:"../my/myorder"})}):(console.log("这里能够符合支付条件"),t.wx_pay_fun(e.data))},function(t){console.log(t)},function(){t.disabled=!1})}if("buyNow"==this.$route.query.type){e="/addons/litestore/api.order/buyNow_pay";n["b"](e,{type:"gzh",goods_id:t.$route.query.goods_id,goods_num:t.$route.query.goods_num,goods_sku_id:t.$route.query.goods_sku_id},function(e){console.log(e),t.disabled=!1,1008==e.code?t.$dialog.confirm({title:"未通过微信登录",message:"您的账号未绑定微信号，请跳转后绑定微信号再进入未支付订单继续支付。"}).then(function(){t.$router.push({path:"../my"})}).catch(function(){t.$router.push({path:"../my/myorder"})}):(console.log("这里能够符合支付条件"),t.wx_pay_fun(e.data))},function(t){console.log(t)},function(){t.disabled=!1})}},wx_pay_fun:function(t){var e=this;"undefined"==typeof WeixinJSBridge?(e.$toast("请使用微信打开"),e.$router.push({path:"../my/myorder"}),document.addEventListener?document.addEventListener("WeixinJSBridgeReady",e.onBridgeReady(t),!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",e.onBridgeReady(t)),document.attachEvent("onWeixinJSBridgeReady",e.onBridgeReady(t)))):e.onBridgeReady(t)},onBridgeReady:function(t){var e=this;WeixinJSBridge.invoke("getBrandWCPayRequest",{appId:t.appId,nonceStr:t.nonceStr,package:t.package,signType:t.signType,paySign:t.paySign,timeStamp:t.timestamp},function(t){console.log(t.err_msg),"get_brand_wcpay_request:ok"==t.err_msg?e.$toast("恭喜，支付成功"):e.$toast("未支付或支付失败"),e.$router.push({path:"../my/myorder"})})}}},c=d,u=(a("23dd"),a("2877")),l=Object(u["a"])(c,s,r,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-a1e0e73c.02529220.js.map